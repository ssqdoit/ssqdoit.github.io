import{_ as e,c as l,o as a,a5 as i}from"./chunks/framework.DHgPyqoO.js";const A=JSON.parse('{"title":"🚀 Cursor Agent 编码最佳实践","description":"","frontmatter":{},"headers":[],"relativePath":"daily/2026/Cursor Agent 编码最佳实践.md","filePath":"daily/2026/Cursor Agent 编码最佳实践.md","lastUpdated":null}'),t={name:"daily/2026/Cursor Agent 编码最佳实践.md"},r=i('<h1 id="🚀-cursor-agent-编码最佳实践" tabindex="-1">🚀 Cursor Agent 编码最佳实践 <a class="header-anchor" href="#🚀-cursor-agent-编码最佳实践" aria-label="Permalink to &quot;🚀 Cursor Agent 编码最佳实践&quot;">​</a></h1><blockquote><p>( ps 核心思想来源于官文)</p></blockquote><p>过去2年，AI 写代码的讨论从“能不能用”变成了“怎么用得更好”。而最近真正让我感到开发方式被彻底改变的，是 Cursor 推出的 <strong>Agent 编码（Agent-based coding）</strong>。</p><p>它不是简单的“补全代码”，而是能连续工作数小时、自动规划任务、跨文件重构、跑测试、修 bug 的那种“能干活的 AI 同事”。</p><p>这一周的深度体验下来，我整理了一套<strong>通俗易懂但非常实用的最佳实践</strong>，帮助你快速上手 Agent 编码。</p><h2 id="🧠-01-agent-harness-ai-的-工作台-到底是什么" tabindex="-1">🧠 01. Agent Harness：AI 的“工作台”到底是什么？ <a class="header-anchor" href="#🧠-01-agent-harness-ai-的-工作台-到底是什么" aria-label="Permalink to &quot;🧠 01. Agent Harness：AI 的“工作台”到底是什么？&quot;">​</a></h2><p>Cursor 的 Agent 运行在一个叫 <strong>agent harness</strong> 的结构里，它包含三部分：</p><ul><li><strong>Instructions</strong>：告诉 Agent 你希望它怎么做</li><li><strong>Tools</strong>：如文件编辑、代码搜索、终端执行</li><li><strong>User messages</strong>：你在对话框里输入的内容</li></ul><p>不同模型对同样的提示词反应不同，有的喜欢 <code>grep</code>，有的更依赖语义搜索。Cursor 会自动调优这些细节，你只需要专注于目标。</p><h2 id="📝-02-写代码之前-先写-plan-真的很重要" tabindex="-1">📝 02. 写代码之前，先写 Plan（真的很重要） <a class="header-anchor" href="#📝-02-写代码之前-先写-plan-真的很重要" aria-label="Permalink to &quot;📝 02. 写代码之前，先写 Plan（真的很重要）&quot;">​</a></h2><p>Cursor 的 <strong>Plan 模式（Shift + Tab）</strong> 是我最推荐的新习惯。</p><p>它会让 Agent：</p><ul><li>先分析你的代码库</li><li>提出澄清问题</li><li>生成一个结构化的执行计划（包含文件路径、代码引用）</li><li>等你确认后再开始写代码</li></ul><p>这让整个过程更可控，也更像在和一个靠谱的同事合作。</p><h2 id="🔍-03-上下文不用你操心-agent-会自己找" tabindex="-1">🔍 03. 上下文不用你操心，Agent 会自己找 <a class="header-anchor" href="#🔍-03-上下文不用你操心-agent-会自己找" aria-label="Permalink to &quot;🔍 03. 上下文不用你操心，Agent 会自己找&quot;">​</a></h2><p>你不需要把所有文件贴给 Agent，它会自动用：</p><ul><li><code>grep</code></li><li>semantic search（语义搜索）</li></ul><p>来定位相关代码。</p><p>你只需要：</p><ul><li>明确目标</li><li>必要时引用关键文件</li><li>不要给太多无关上下文</li></ul><h2 id="🔄-04-什么时候要-重新开个对话" tabindex="-1">🔄 04. 什么时候要“重新开个对话”？ <a class="header-anchor" href="#🔄-04-什么时候要-重新开个对话" aria-label="Permalink to &quot;🔄 04. 什么时候要“重新开个对话”？&quot;">​</a></h2><p>这是很多人忽略的关键点。</p><h3 id="建议开新对话的情况" tabindex="-1">建议开新对话的情况 <a class="header-anchor" href="#建议开新对话的情况" aria-label="Permalink to &quot;建议开新对话的情况&quot;">​</a></h3><ul><li>换了一个完全不同的任务</li><li>Agent 开始“迷糊”或重复犯错</li><li>一个功能已经完整结束</li></ul><h3 id="建议继续当前对话的情况" tabindex="-1">建议继续当前对话的情况 <a class="header-anchor" href="#建议继续当前对话的情况" aria-label="Permalink to &quot;建议继续当前对话的情况&quot;">​</a></h3><ul><li>还在迭代同一个功能</li><li>Agent 需要之前的上下文</li><li>正在调试它刚生成的代码</li></ul><p>长对话会积累噪音，适时重开能显著提升效果。</p><h2 id="🧱-05-rules-skills-打造你的-专属-ai-工程师" tabindex="-1">🧱 05. Rules &amp; Skills：打造你的“专属 AI 工程师” <a class="header-anchor" href="#🧱-05-rules-skills-打造你的-专属-ai-工程师" aria-label="Permalink to &quot;🧱 05. Rules &amp; Skills：打造你的“专属 AI 工程师”&quot;">​</a></h2><p>Cursor 提供两种扩展方式：</p><h3 id="🧩-rules-静态规则" tabindex="-1">🧩 Rules（静态规则） <a class="header-anchor" href="#🧩-rules-静态规则" aria-label="Permalink to &quot;🧩 Rules（静态规则）&quot;">​</a></h3><p>放在 <code>.cursor/rules/</code>，用于定义：</p><ul><li>项目命令</li><li>代码风格</li><li>组件结构</li><li>工作流约定</li></ul><h3 id="⚙️-skills-动态能力" tabindex="-1">⚙️ Skills（动态能力） <a class="header-anchor" href="#⚙️-skills-动态能力" aria-label="Permalink to &quot;⚙️ Skills（动态能力）&quot;">​</a></h3><p>定义在 <a href="https://SKILL.md" target="_blank" rel="noreferrer"><code>SKILL.md</code></a>，可以包含：</p><ul><li>自定义命令（custom commands）</li><li>Hooks（在 Agent 行为前后执行脚本）</li><li>特定领域知识（domain knowledge）</li></ul><p>例如，你可以让 Agent 自动循环执行任务直到所有测试通过。</p><h2 id="🧪-06-tdd-agent-效果出奇地好" tabindex="-1">🧪 06. TDD + Agent：效果出奇地好 <a class="header-anchor" href="#🧪-06-tdd-agent-效果出奇地好" aria-label="Permalink to &quot;🧪 06. TDD + Agent：效果出奇地好&quot;">​</a></h2><p>流程非常简单：</p><ol><li>让 Agent 写测试（只写测试，不写实现）</li><li>运行测试，确认失败</li><li>让 Agent 写实现</li><li>反复迭代直到通过</li></ol><p>测试为 Agent 提供了明确的“可验证目标”，效果比纯 prompt 驱动好太多。</p><h2 id="🧭-07-让-agent-帮你理解代码库" tabindex="-1">🧭 07. 让 Agent 帮你理解代码库 <a class="header-anchor" href="#🧭-07-让-agent-帮你理解代码库" aria-label="Permalink to &quot;🧭 07. 让 Agent 帮你理解代码库&quot;">​</a></h2><p>你可以问它：</p><ul><li>“这个项目的 logging 是怎么做的？”</li><li>“如何添加一个新的 API endpoint？”</li><li>“<code>CustomerOnboardingFlow</code> 有哪些 edge cases？”</li></ul><p>它会结合 <code>grep</code> 和语义搜索给出答案，速度比你自己翻代码快得多。</p><h2 id="🧑‍💻-08-git-工作流自动化-ai-真的能帮你省时间" tabindex="-1">🧑‍💻 08. Git 工作流自动化：AI 真的能帮你省时间 <a class="header-anchor" href="#🧑‍💻-08-git-工作流自动化-ai-真的能帮你省时间" aria-label="Permalink to &quot;🧑‍💻 08. Git 工作流自动化：AI 真的能帮你省时间&quot;">​</a></h2><p>你可以让 Agent 自动：</p><ul><li>生成 commit message</li><li>推代码</li><li>创建 Pull Request</li><li>解决 merge conflict</li></ul><p>甚至可以定义 <code>/pr</code>、<code>/review</code>、<code>/update-deps</code> 等团队共享命令。</p><h2 id="🐞-09-debug-mode-解决棘手-bug-的秘密武器" tabindex="-1">🐞 09. Debug Mode：解决棘手 bug 的秘密武器 <a class="header-anchor" href="#🐞-09-debug-mode-解决棘手-bug-的秘密武器" aria-label="Permalink to &quot;🐞 09. Debug Mode：解决棘手 bug 的秘密武器&quot;">​</a></h2><p>当普通 Agent 解决不了问题时，Debug Mode 会：</p><ul><li>生成多个假设</li><li>自动插入日志</li><li>要求你复现问题</li><li>基于真实运行数据定位根因</li></ul><p>特别适合处理 race condition、性能瓶颈、回归 bug 等复杂问题。</p><h2 id="☁️-10-云端-agent-让-ai-帮你-异步写代码" tabindex="-1">☁️ 10. 云端 Agent：让 AI 帮你“异步写代码” <a class="header-anchor" href="#☁️-10-云端-agent-让-ai-帮你-异步写代码" aria-label="Permalink to &quot;☁️ 10. 云端 Agent：让 AI 帮你“异步写代码”&quot;">​</a></h2><p>你可以把一些不紧急但耗时的任务交给云端 Agent：</p><ul><li>重构</li><li>写测试</li><li>更新文档</li><li>修小 bug</li></ul><p>它会自动创建分支、完成任务、提交 PR，并通知你。</p><h1 id="🎯-写在最后-把-agent-当作-协作者-不是-工具" tabindex="-1">🎯 写在最后：把 Agent 当作“协作者”，不是“工具” <a class="header-anchor" href="#🎯-写在最后-把-agent-当作-协作者-不是-工具" aria-label="Permalink to &quot;🎯 写在最后：把 Agent 当作“协作者”，不是“工具”&quot;">​</a></h1><p>最有效的开发者往往具备这些习惯：</p><ul><li>写具体的提示（prompt engineering）</li><li>逐步优化自己的配置</li><li>认真 review AI 生成的代码</li><li>提供可验证的目标（tests、linters、types）</li><li>把 Agent 当作有能力的队友，而不是工具</li></ul><p>AI 编码的时代已经到来，而掌握这些方法，会让你在新的开发范式中如鱼得水。</p>',60),o=[r];function n(s,d,u,g,h,p){return a(),l("div",null,o)}const b=e(t,[["render",n]]);export{A as __pageData,b as default};
